import{b as d,j as e,w as g,B as re}from"./Toast-v6hpJLx4.js";import{s as le,S as ie,p as oe,h as y,E as ce,i as de,R as P,v as Y}from"./index-K8sHV9H_.js";import{h as C}from"./moment-WSJ9un1t.js";import{$ as x}from"./iconBase-Qe4RONN1.js";import{a as me}from"./axios-L6U4YIEh.js";import{u as he,c as ue}from"./index-owATBqM6.js";const pe=U("end"),fe=U("start");function U(s){return t;function t(a){const n=a&&a.position&&a.position[s]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function xe(s){const t=fe(s),a=pe(s);if(t&&a)return{start:t,end:a}}const j=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],W={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...j,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...j],h2:[["className","sr-only"]],img:[...j,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...j,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...j],table:[...j],ul:[...j,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},N={}.hasOwnProperty;function be(s,t){let a={type:"root",children:[]};const n={schema:t?{...W,...t}:W,stack:[]},r=_(n,s);return r&&(Array.isArray(r)?r.length===1?a=r[0]:a.children=r:a=r),a}function _(s,t){if(t&&typeof t=="object"){const a=t;switch(typeof a.type=="string"?a.type:""){case"comment":return ge(s,a);case"doctype":return ye(s,a);case"element":return Ne(s,a);case"root":return je(s,a);case"text":return ve(s,a)}}}function ge(s,t){if(s.schema.allowComments){const a=typeof t.value=="string"?t.value:"",n=a.indexOf("-->"),l={type:"comment",value:n<0?a:a.slice(0,n)};return v(l,t),l}}function ye(s,t){if(s.schema.allowDoctypes){const a={type:"doctype"};return v(a,t),a}}function Ne(s,t){const a=typeof t.tagName=="string"?t.tagName:"";s.stack.push(a);const n=G(s,t.children),r=we(s,t.properties);s.stack.pop();let l=!1;if(a&&a!=="*"&&(!s.schema.tagNames||s.schema.tagNames.includes(a))&&(l=!0,s.schema.ancestors&&N.call(s.schema.ancestors,a))){const p=s.schema.ancestors[a];let h=-1;for(l=!1;++h<p.length;)s.stack.includes(p[h])&&(l=!0)}if(!l)return s.schema.strip&&!s.schema.strip.includes(a)?n:void 0;const o={type:"element",tagName:a,properties:r,children:n};return v(o,t),o}function je(s,t){const n={type:"root",children:G(s,t.children)};return v(n,t),n}function ve(s,t){const n={type:"text",value:typeof t.value=="string"?t.value:""};return v(n,t),n}function G(s,t){const a=[];if(Array.isArray(t)){const n=t;let r=-1;for(;++r<n.length;){const l=_(s,n[r]);l&&(Array.isArray(l)?a.push(...l):a.push(l))}}return a}function we(s,t){const a=s.stack[s.stack.length-1],n=s.schema.attributes,r=s.schema.required,l=n&&N.call(n,a)?n[a]:void 0,o=n&&N.call(n,"*")?n["*"]:void 0,p=t&&typeof t=="object"?t:{},h={};let c;for(c in p)if(N.call(p,c)){const u=p[c];let f=K(s,Q(l,c),c,u);f==null&&(f=K(s,Q(o,c),c,u)),f!=null&&(h[c]=f)}if(r&&N.call(r,a)){const u=r[a];for(c in u)N.call(u,c)&&!N.call(h,c)&&(h[c]=u[c])}return h}function K(s,t,a,n){return t?Array.isArray(n)?De(s,t,a,n):J(s,t,a,n):void 0}function De(s,t,a,n){let r=-1;const l=[];for(;++r<n.length;){const o=J(s,t,a,n[r]);(typeof o=="number"||typeof o=="string")&&l.push(o)}return l}function J(s,t,a,n){if(!(typeof n!="boolean"&&typeof n!="number"&&typeof n!="string")&&Ce(s,a,n)){if(typeof t=="object"&&t.length>1){let r=!1,l=0;for(;++l<t.length;){const o=t[l];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(n))){r=!0;break}}else if(o===n){r=!0;break}}if(!r)return}return s.schema.clobber&&s.schema.clobberPrefix&&s.schema.clobber.includes(a)?s.schema.clobberPrefix+n:n}}function Ce(s,t,a){const n=s.schema.protocols&&N.call(s.schema.protocols,t)?s.schema.protocols[t]:void 0;if(!n||n.length===0)return!0;const r=String(a),l=r.indexOf(":"),o=r.indexOf("?"),p=r.indexOf("#"),h=r.indexOf("/");if(l<0||h>-1&&l>h||o>-1&&l>o||p>-1&&l>p)return!0;let c=-1;for(;++c<n.length;){const u=n[c];if(l===u.length&&r.slice(0,u.length)===u)return!0}return!1}function v(s,t){const a=xe(t);t.data&&(s.data=le(t.data)),a&&(s.position=a)}function Q(s,t){let a,n=-1;if(s)for(;++n<s.length;){const r=s[n],l=typeof r=="string"?r:r[0];if(l===t)return r;l==="data*"&&(a=r)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return a}function E(s){return function(t){return be(t,s)}}const F=[ie.define(oe)],Ee=()=>{document.title="Problem Detail";const t=he().data,{id:a}=ue(),[n,r]=d.useState(t.title),[l,o]=d.useState(t.code),[p,h]=d.useState(t.level),[c,u]=d.useState(t.description),[f,w]=d.useState(t.testCases),[S,B]=d.useState(t.workTime),[k,X]=d.useState(S.hours),[T,Z]=d.useState(S.minute),[H,L]=d.useState(C(t.startDate).format("YYYY-MM-DDTHH:mm")),[O,A]=d.useState(C(t.endDate).format("YYYY-MM-DDTHH:mm")),[I,q]=d.useState(t.baseImport),[z,R]=d.useState(t.baseFunction),[$,V]=d.useState(t.baseMain),[m,M]=d.useState(!1);x("input").attr("readonly",!m),x(".w-md-editor-text-input").attr("readonly",!m),x(".cm-content").attr("aria-readonly",!m),x("#btn-addTest").attr("disabled",!m),d.useEffect(()=>{w(t.testCases),B({hours:k,minutes:T})},[t.testCases,k,T]);const ee=()=>{w([...f,""]),console.log(f)},te=(i,b)=>{const D=[...f];D[i]=b,w(D)},se=()=>{x("input").attr("readonly",m),x(".w-md-editor-text-input").attr("readonly",m),x("#btn-addTest").attr("disabled",m),x(".cm-content").attr("aria-readonly",!m),M(!m)},ae=async()=>{try{const i={title:n,level:p,description:c,code:l,testCases:f,workTime:S,baseFunction:z,baseMain:$,baseImport:I,startDate:H,endDate:O};await me.put(`http://localhost:8001/problems/${a}`,i,{withCredentials:!0}).then(b=>{console.log(b)}).catch(b=>{console.log(b)})}catch(i){return i}M(!1)},ne=()=>{x("input").attr("readonly",!m),x(".w-md-editor-text-input").attr("readonly",!m),x("#btn-addTest").attr("disabled",!m),x(".cm-content").attr("aria-readonly",!m),r(t.title),o(t.code),h(t.level),u(t.description),w(t.testCases),B(t.workTime),L(C(t.startDate).format("YYYY-MM-DDTHH:mm")),A(C(t.endDate).format("YYYY-MM-DDTHH:mm")),q(t.baseImport),R(t.baseFunction),V(t.baseMain),M(!1)};return e.jsxs("div",{children:[e.jsxs("div",{className:"header my-4 flex justify-between",children:[e.jsx("h1",{className:"font-semibold text-xl",children:"Problem Details"}),e.jsx("div",{className:"buttons",children:m?e.jsxs("div",{children:[e.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded mr-2",onClick:ne,children:"Cancel"}),e.jsx("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:ae,children:"Submit"})]}):e.jsx("button",{className:"bg-green-500 text-white px-3 py-1 rounded",onClick:se,children:"Edit"})})]}),e.jsx("div",{className:"container bg-slate-100 shadow-lg rounded-lg p-3",children:e.jsxs("div",{className:"grid gap-y-6",children:[e.jsxs("div",{className:"title",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Title"}),e.jsx("input",{className:"w-full rounded-xl border-none shadow-md",type:"text",name:"title",id:"title",value:n,onChange:i=>r(i.target.value)})]}),e.jsxs("div",{className:"codeLevel grid grid-cols-2 gap-x-6",children:[e.jsxs("div",{className:"code",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Code"}),e.jsx("input",{className:"w-full rounded-xl border-none shadow-md",type:"text",name:"code",id:"code",value:l,onChange:i=>o(i.target.value)})]}),e.jsxs("div",{className:"level",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("h4",{className:"font-semibold me-2",children:"Level"}),e.jsx(g,{content:"Define the problem difficulty 1-3",style:"light",className:"w-fit",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsx("input",{className:"w-full rounded-xl border-none shadow-md",type:"number",min:"1",max:"3",name:"level",id:"level",value:p,onChange:i=>h(i.target.value)})]})]}),e.jsxs("div",{className:"description",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-semibold my-3 me-2",children:"Description"}),e.jsx(g,{content:"Describe the problem and the expected solution, including examples, using Markdown. This will help students understand the problem and its expected output.",style:"light",className:"w-1/2",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsx("div",{className:"editor rounded-lg",children:e.jsx(ce,{value:c,onChange:u,preview:"live"})})]}),e.jsxs("div",{className:"testCases",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-semibold my-3 me-2",children:"Test Cases"}),e.jsx(g,{content:`Enter at least 2 values separated by commas. The last value represents the expected result of the function, while the preceding values are the input parameters for the function.

For example, for a function add(a, b) that returns a + b  . Test cases should be defined as '1,2,3' or '2,2,4', where the last value is the expected result and the preceding values are the function parameters.`,style:"light",className:"w-1/2",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsxs(re,{size:"sm",id:"btn-addTest",className:"me-4 w-16 h-10",color:"success",onClick:ee,children:[e.jsx(de,{className:"mr-2 h-3 w-3"})," Test"]})]}),e.jsx("div",{id:"testCasesContainer",className:"flex flex-wrap",children:f.map((i,b)=>e.jsx("input",{className:"w-1/6 rounded-xl border-none shadow-md me-3 mb-3",type:"text",value:i,onChange:D=>te(b,D.target.value)},b))})]}),e.jsxs("div",{className:"timeDueDate grid grid-cols-2",children:[e.jsxs("div",{className:"workTime",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("h4",{className:"font-semibold my-3 me-2",children:["Work Time"," ",e.jsx("small",{className:"text-gray-500",children:"(Hours : Minutes)"})]}),e.jsx(g,{content:"Estimated time this problem should be solved",style:"light",className:"w-fit",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{className:"rounded-xl border-none shadow-md",type:"number",min:"0",name:"hours",id:"hours",value:k,onChange:i=>X(i.target.value)}),e.jsx("div",{className:"mx-3",children:":"}),e.jsx("input",{className:"rounded-xl border-none shadow-md",type:"number",min:"0",name:"minute",id:"minute",value:T,onChange:i=>Z(i.target.value)})]})]}),e.jsxs("div",{className:"dueDate",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("h4",{className:"font-semibold my-3 me-2",children:["Due Date",e.jsx("small",{className:"text-gray-500",children:"(Start Date - End Date)"})]}),e.jsx(g,{content:"Due date this problem is assign to the students",style:"light",className:"w-fit",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{className:"w-60 rounded-xl border-none shadow-md p-2",type:"datetime-local",name:"startDate",id:"startDate",value:H,onChange:i=>L(i.target.value)}),e.jsx("div",{className:"mx-3",children:"-"}),e.jsx("input",{className:"w-60 rounded-xl border-none shadow-md p-2",type:"datetime-local",name:"endDate",id:"endDate",value:O,onChange:i=>A(i.target.value)})]})]})]}),e.jsxs("div",{className:"baseFunction",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-semibold my-3 me-2",children:"Base Function"}),e.jsx(g,{content:"Function with paramater for the solution to be write with",style:"light",className:"w-fit",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsx("div",{className:"p-2 bg-[#1e1e1e] rounded-md w-full",children:e.jsx("div",{className:"text-left items-center",height:"100vh",children:e.jsx(P,{className:"text-sm rounded",height:"15vh",value:z,theme:Y,extensions:F,onChange:(i,b)=>{R(i)},previewOptions:{rehypePlugins:[[E]]}})})})]}),e.jsxs("div",{className:"importMain flex",children:[e.jsxs("div",{className:"baseImport w-1/2 me-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-semibold my-3 me-2",children:"Base Import"}),e.jsx(g,{content:"Necessary import to run the program",style:"light",className:"w-fit",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsx("div",{className:"p-2 bg-[#1e1e1e] rounded-md me-3",children:e.jsx("div",{className:"text-left items-center",height:"100vh",children:e.jsx(P,{className:"text-sm rounded",height:"15vh",value:I,theme:Y,extensions:F,onChange:(i,b)=>{q(i)},previewOptions:{rehypePlugins:[[E]]}})})})]}),e.jsxs("div",{className:"baseMain w-1/2 ms-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"font-semibold my-3 me-2",children:"Base Main"}),e.jsx(g,{content:e.jsxs("p",{children:["Test Case handler to help run this program to get if the result is as expected or not ",e.jsx("br",{}),"Pattern : print(functionName($","test[0]",") == $","test[1]",") ",e.jsx("br",{}),"Test varible use to define test cases."]}),style:"light",className:"w-fit",placement:"right",children:e.jsx(y,{className:"text-gray-500"})})]}),e.jsx("div",{className:"p-2 bg-[#1e1e1e] rounded-md me-3",children:e.jsx("div",{className:"text-left items-center",height:"100vh",children:e.jsx(P,{className:"text-sm rounded",height:"15vh",value:$,theme:Y,extensions:F,onChange:(i,b)=>{V(i)},previewOptions:{rehypePlugins:[[E]]}})})})]})]})]})})]})};export{Ee as P};
