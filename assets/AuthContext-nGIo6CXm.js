import{b as o,j as c}from"./Toast-v6hpJLx4.js";import{a}from"./axios-L6U4YIEh.js";import{b as f}from"./index-owATBqM6.js";const p=o.createContext(),x=({children:i})=>{const r=f(),[l,s]=o.useState(()=>{let t=localStorage.getItem("userProfile");return t?JSON.parse(t):r("/login")}),n=async t=>{let e=await a.post("http://localhost:8001/auth/login",t,{withCredentials:!0});localStorage.setItem("userProfile",JSON.stringify(e.data.user)),s(e.data.user),r("/")},u=async t=>{let e=await a.post("http://localhost:8001/auth/refresh-token",t,{withCredentials:!0});localStorage.setItem("userProfile",JSON.stringify(e.data.user)),s(e.data.user)};return c.jsx(p.Provider,{value:{user:l,login:n,refresh:u},children:i})};export{p as A,x as a};
