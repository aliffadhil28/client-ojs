import{l as Y,n as K,E as W,b as i,p as $,q,u as G,v as N,j as s,B as X,T as h}from"./Toast-v6hpJLx4.js";import{m as J,D as Q,d as Z,R as ee,e as te,N as ne,f as re,b as ie,a as ae,g as se,u as oe}from"./index-owATBqM6.js";import{b as le,R as ce,A as ue,a as de}from"./buttonThemes-SzMD2y27.js";import{h as U}from"./moment-WSJ9un1t.js";import{l as fe}from"./helper-7EjJiDbg.js";import{I as F}from"./iconBase-Qe4RONN1.js";/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},P.apply(this,arguments)}function me(e,n){if(e==null)return{};var t={},a=Object.keys(e),r,o;for(o=0;o<a.length;o++)r=a[o],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}function he(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pe(e,n){return e.button===0&&(!n||n==="_self")&&!he(e)}const ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],xe="6";try{window.__reactRouterVersion=xe}catch{}function Fe(e,n){return Y({basename:n==null?void 0:n.basename,future:P({},n==null?void 0:n.future,{v7_prependBasename:!0}),history:K({window:n==null?void 0:n.window}),hydrationData:(n==null?void 0:n.hydrationData)||we(),routes:e,mapRouteProperties:J,window:n==null?void 0:n.window}).initialize()}function we(){var e;let n=(e=window)==null?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=P({},n,{errors:ge(n.errors)})),n}function ge(e){if(!e)return null;let n=Object.entries(e),t={};for(let[a,r]of n)if(r&&r.__type==="RouteErrorResponse")t[a]=new W(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let o=window[r.__subType];if(typeof o=="function")try{let l=new o(r.message);l.stack="",t[a]=l}catch{}}if(t[a]==null){let o=new Error(r.message);o.stack="",t[a]=o}}else t[a]=r;return t}const ye=i.createContext({isTransitioning:!1}),be=i.createContext(new Map),Ce="startTransition",O=$[Ce],Re="flushSync",M=q[Re];function Se(e){O?O(e):e()}function _(e){M?M(e):e()}class Te{constructor(){this.status="pending",this.promise=new Promise((n,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",n(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}}function Oe(e){let{fallbackElement:n,router:t,future:a}=e,[r,o]=i.useState(t.state),[l,c]=i.useState(),[f,u]=i.useState({isTransitioning:!1}),[d,w]=i.useState(),[p,S]=i.useState(),[g,E]=i.useState(),T=i.useRef(new Map),{v7_startTransition:k}=a||{},L=i.useCallback(m=>{k?Se(m):m()},[k]),v=i.useCallback((m,b)=>{let{deletedFetchers:x,unstable_flushSync:H,unstable_viewTransitionOpts:C}=b;x.forEach(R=>T.current.delete(R)),m.fetchers.forEach((R,z)=>{R.data!==void 0&&T.current.set(z,R.data)});let V=t.window==null||typeof t.window.document.startViewTransition!="function";if(!C||V){H?_(()=>o(m)):L(()=>o(m));return}if(H){_(()=>{p&&(d&&d.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let R=t.window.document.startViewTransition(()=>{_(()=>o(m))});R.finished.finally(()=>{_(()=>{w(void 0),S(void 0),c(void 0),u({isTransitioning:!1})})}),_(()=>S(R));return}p?(d&&d.resolve(),p.skipTransition(),E({state:m,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(c(m),u({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[t.window,p,d,T,L]);i.useLayoutEffect(()=>t.subscribe(v),[t,v]),i.useEffect(()=>{f.isTransitioning&&!f.flushSync&&w(new Te)},[f]),i.useEffect(()=>{if(d&&l&&t.window){let m=l,b=d.promise,x=t.window.document.startViewTransition(async()=>{L(()=>o(m)),await b});x.finished.finally(()=>{w(void 0),S(void 0),c(void 0),u({isTransitioning:!1})}),S(x)}},[L,l,d,t.window]),i.useEffect(()=>{d&&l&&r.location.key===l.location.key&&d.resolve()},[d,p,r.location,l]),i.useEffect(()=>{!f.isTransitioning&&g&&(c(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),E(void 0))},[f.isTransitioning,g]),i.useEffect(()=>{},[]);let y=i.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:m=>t.navigate(m),push:(m,b,x)=>t.navigate(m,{state:b,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(m,b,x)=>t.navigate(m,{replace:!0,state:b,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),j=t.basename||"/",B=i.useMemo(()=>({router:t,navigator:y,static:!1,basename:j}),[t,y,j]);return i.createElement(i.Fragment,null,i.createElement(Q.Provider,{value:B},i.createElement(Z.Provider,{value:r},i.createElement(be.Provider,{value:T.current},i.createElement(ye.Provider,{value:f},i.createElement(ee,{basename:j,location:r.location,navigationType:r.historyAction,navigator:y,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},r.initialized||t.future.v7_partialHydration?i.createElement(Le,{routes:t.routes,future:t.future,state:r}):n))))),null)}function Le(e){let{routes:n,future:t,state:a}=e;return te(n,void 0,a,t)}const je=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D=i.forwardRef(function(n,t){let{onClick:a,relative:r,reloadDocument:o,replace:l,state:c,target:f,to:u,preventScrollReset:d,unstable_viewTransition:w}=n,p=me(n,ve),{basename:S}=i.useContext(ne),g,E=!1;if(typeof u=="string"&&Ee.test(u)&&(g=u,je))try{let v=new URL(window.location.href),y=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=G(y.pathname,S);y.origin===v.origin&&j!=null?u=j+y.search+y.hash:E=!0}catch{}let T=re(u,{relative:r}),k=_e(u,{replace:l,state:c,target:f,preventScrollReset:d,relative:r,unstable_viewTransition:w});function L(v){a&&a(v),v.defaultPrevented||k(v)}return i.createElement("a",P({},p,{href:g||T,onClick:E||o?a:L,ref:t,target:f}))});var I;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I||(I={}));var A;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(A||(A={}));function _e(e,n){let{target:t,replace:a,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:c}=n===void 0?{}:n,f=ie(),u=ae(),d=se(e,{relative:l});return i.useCallback(w=>{if(pe(w,t)){w.preventDefault();let p=a!==void 0?a:N(u)===N(d);f(e,{replace:p,state:r,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[u,f,d,a,r,t,e,o,l,c])}function Me(){document.title="Problems List";const n=oe().data,[t,a]=i.useState(0),[r,o]=i.useState([]),l=10;return i.useEffect(()=>{o(n.filter((c,f)=>f>=t*l&&f<(t+1)*l))},[t,n]),s.jsxs("div",{className:"flex flex-col prose lg:prose-xl",children:[s.jsxs("div",{className:"header flex justify-between my-4",children:[s.jsx("h1",{className:"my-3 font-bold",children:"Problem List"}),s.jsx(D,{to:"/dashboard/problems/add",children:s.jsx(X,{size:"sm",className:"me-4 w-24 h-10",theme:le,gradientMonochrome:"success",children:"Add"})})]}),s.jsxs(h,{children:[s.jsxs(h.Head,{children:[s.jsx(h.HeadCell,{children:"Problem Code"}),s.jsx(h.HeadCell,{children:"Title"}),s.jsx(h.HeadCell,{children:"Active Date"}),s.jsx(h.HeadCell,{children:"Level"}),s.jsx(h.HeadCell,{children:"Action"})]}),s.jsx(h.Body,{className:"divide-y",children:r.map((c,f)=>{const d=new DOMParser().parseFromString(fe(c.level),"text/html");return s.jsxs(h.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[s.jsx(h.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:c.code}),s.jsx(h.Cell,{children:c.title}),s.jsxs(h.Cell,{children:[U(c.startDate).format("HH:mm DD-MM-YYYY")," -"," ",U(c.endDate).format("HH:mm DD-MM-YYYY")]}),s.jsx(h.Cell,{children:s.jsx("div",{dangerouslySetInnerHTML:{__html:d.body.innerHTML}})}),s.jsxs(h.Cell,{children:[s.jsx(D,{to:`/dashboard/problems/${c.id}`,className:"font-medium hover:no-underline text-cyan-600 dark:text-cyan-500 me-2",children:"Detail"}),s.jsx(D,{to:`/dashboard/solutions/${c.id}`,className:"font-medium hover:no-underline text-green-600 dark:text-green-500",children:"Submissions"})]})]},f)})})]}),s.jsx(ce,{containerClassName:"pagination flex items-center my-4 mx-auto",pageClassName:"page-item p-2 font-semibold bg-gray-200 rounded-md mx-2 text-black",activeClassName:"active",onPageChange:c=>a(c.selected),pageCount:Math.ceil(n.length/l),breakLabel:"...",previousLabel:s.jsx(F.Provider,{value:{color:"#B8C1CC",size:"36px"},children:s.jsx(ue,{})}),nextLabel:s.jsx(F.Provider,{value:{color:"#B8C1CC",size:"36px"},children:s.jsx(de,{})})})]})}export{D as L,Me as P,Oe as R,Fe as c};
